"use client"

import type React from "react"

import { useState, useEffect } from "react"
import {
  FileText,
  Gavel,
  Scale,
  Shield,
  BarChart,
  Scroll,
  Coins,
  Stethoscope,
  ChevronDown,
  Building,
  Home,
} from "lucide-react"
import { AnimatedSection, AnimatedItem } from "@/components/animated-section"
import { SectionDivider } from "@/components/section-divider"
import { motion, AnimatePresence, LayoutGroup } from "framer-motion"
import { cn } from "@/lib/utils"

interface TimelineStep {
  title: string
  description: string
  duration: string
  icon: React.ReactNode
  details: string
}

interface CaseType {
  id: string
  title: string
  description: string
  icon: React.ReactNode
  steps: TimelineStep[]
}

export function CaseTimeline() {
  const [activeCase, setActiveCase] = useState<string>("criminal")
  const [expandedStep, setExpandedStep] = useState<number | null>(null)

  useEffect(() => {
    // Сбрасываем развернутый шаг при смене категории
    setExpandedStep(null)
  }, [activeCase])

  const caseTypes: CaseType[] = [
    {
      id: "criminal",
      title: "Уголовные дела",
      description:
        "Профессиональная защита на всех этапах уголовного процесса с индивидуальной стратегией и тщательным анализом доказательств",
      icon: <Scale className="h-5 w-5" />,
      steps: [
        {
          title: "Доследственная проверка",
          description: "Сбор и анализ материалов до возбуждения уголовного дела",
          duration: "До 30 дней",
          icon: <FileText className="h-5 w-5" />,
          details:
            "На этом этапе правоохранительные органы проверяют информацию о возможном преступлении. Адвокат может участвовать в даче объяснений, помогать формулировать позицию, собирать доказательства невиновности. Грамотная работа на этом этапе может предотвратить возбуждение уголовного дела.",
        },
        {
          title: "Возбуждение уголовного дела",
          description: "Официальное начало уголовного преследования",
          duration: "1-3 дня",
          icon: <FileText className="h-5 w-5" />,
          details:
            "При наличии признаков преступления следователь или дознаватель выносит постановление о возбуждении уголовного дела. Адвокат проверяет законность и обоснованность возбуждения дела, при необходимости обжалует это решение.",
        },
        {
          title: "Предварительное расследование",
          description: "Сбор доказательств, допросы, экспертизы",
          duration: "2-12 месяцев",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Следователь собирает доказательства, проводит допросы, очные ставки, обыски, назначает экспертизы. Адвокат участвует во всех следственных действиях с подзащитным, заявляет ходатайства, представляет доказательства невиновности, обжалует незаконные действия следователя.",
        },
        {
          title: "Предъявление обвинения",
          description: "Формулирование официального обвинения",
          duration: "В течение расследования",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Следователь выносит постановление о привлечении в качестве обвиняемого, где формулирует суть обвинения. Адвокат изучает обвинение, консультирует подзащитного по поводу позиции, при необходимости обжалует обвинение.",
        },
        {
          title: "Избрание меры пресечения",
          description: "Определение ограничений на время следствия",
          duration: "В начале расследования",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Следователь может избрать меру пресечения: подписка о невыезде, домашний арест, заключение под стражу и др. Адвокат представляет доводы в пользу более мягкой меры пресечения, собирает характеризующие материалы, обжалует необоснованно строгие меры.",
        },
        {
          title: "Ознакомление с материалами дела",
          description: "Изучение всех собранных доказательств",
          duration: "От нескольких дней до месяцев",
          icon: <FileText className="h-5 w-5" />,
          details:
            "По окончании расследования обвиняемый и его адвокат знакомятся со всеми материалами дела. Адвокат анализирует доказательства, выявляет противоречия и нарушения, формирует стратегию защиты в суде.",
        },
        {
          title: "Предварительное слушание",
          description: "Решение процессуальных вопросов перед судом",
          duration: "1-3 дня",
          icon: <Gavel className="h-5 w-5" />,
          details:
            "Суд решает вопросы о подсудности, мере пресечения, исключении доказательств. Адвокат заявляет ходатайства об исключении недопустимых доказательств, о прекращении дела, об изменении меры пресечения.",
        },
        {
          title: "Судебное разбирательство",
          description: "Рассмотрение дела в суде первой инстанции",
          duration: "От 1 месяца до 1 года",
          icon: <Gavel className="h-5 w-5" />,
          details:
            "Суд исследует доказательства, допрашивает подсудимого, свидетелей, экспертов. Адвокат участвует в допросах, представляет доказательства, заявляет ходатайства, выступает в прениях с защитительной речью.",
        },
        {
          title: "Вынесение приговора",
          description: "Решение суда о виновности и наказании",
          duration: "1-3 дня",
          icon: <Gavel className="h-5 w-5" />,
          details:
            "Суд выносит приговор: обвинительный или оправдательный. Адвокат анализирует приговор, консультирует по вопросу его обжалования, при несогласии готовит апелляционную жалобу.",
        },
        {
          title: "Апелляционное обжалование",
          description: "Обжалование приговора в вышестоящий суд",
          duration: "2-4 месяца",
          icon: <Gavel className="h-5 w-5" />,
          details:
            "Приговор может быть обжалован в апелляционном порядке. Адвокат составляет апелляционную жалобу, участвует в заседании апелляционного суда, представляет доводы в пользу изменения или отмены приговора.",
        },
      ],
    },
    {
      id: "military",
      title: "Военное право",
      description:
        "Специализированная юридическая поддержка для военнослужащих и их семей по всем вопросам, связанным с прохождением военной службы",
      icon: <Shield className="h-5 w-5" />,
      steps: [
        {
          title: "Первичная консультация",
          description: "Анализ ситуации и определение стратегии",
          duration: "1-2 часа",
          icon: <FileText className="h-5 w-5" />,
          details:
            "На первичной консультации адвокат выясняет все обстоятельства дела, изучает имеющиеся документы и определяет перспективы разрешения ситуации. Вы получаете четкое понимание своих прав и возможных путей решения проблемы.",
        },
        {
          title: "Сбор доказательств",
          description: "Формирование доказательной базы",
          duration: "1-4 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат собирает необходимые документы, запрашивает информацию из воинской части и других государственных органов, получает заключения специалистов. Тщательная подготовка доказательной базы — залог успешного разрешения дела.",
        },
        {
          title: "Досудебное урегулирование",
          description: "Попытка решить вопрос без обращения в суд",
          duration: "2-8 недель",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат составляет и направляет претензии, жалобы и обращения в вышестоящие инстанции, проводит переговоры с командованием. Во многих случаях это позволяет решить проблему без длительного судебного разбирательства.",
        },
        {
          title: "Подготовка и подача иска",
          description: "Составление и подача искового заявления",
          duration: "1-2 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Если досудебное урегулирование не дало результатов, адвокат составляет исковое заявление с учетом всех требований процессуального законодательства и специфики военного права. Грамотно составленный иск значительно повышает шансы на положительное решение.",
        },
        {
          title: "Судебное разбирательство",
          description: "Представление интересов в военном суде",
          duration: "2-6 месяцев",
          icon: <Gavel className="h-5 w-5" />,
          details:
            "Адвокат представляет ваши интересы в военном суде, участвует во всех судебных заседаниях, заявляет ходатайства, представляет доказательства, допрашивает свидетелей и экспертов, выступает в прениях. Профессиональное представительство в суде — ключевой фактор успеха.",
        },
        {
          title: "Обжалование решения",
          description: "При необходимости обжалование в вышестоящие инстанции",
          duration: "2-4 месяца",
          icon: <Gavel className="h-5 w-5" />,
          details:
            "В случае несогласия с решением суда адвокат подготавливает и подает апелляционную, кассационную или надзорную жалобу, представляет ваши интересы в вышестоящих судебных инстанциях. Это дает возможность добиться справедливого решения даже после первоначального отказа.",
        },
        {
          title: "Исполнение решения",
          description: "Контроль за исполнением судебного решения",
          duration: "До полного исполнения",
          icon: <FileText className="h-5 w-5" />,
          details:
            "После вступления решения суда в законную силу адвокат контролирует его исполнение, при необходимости взаимодействует с судебными приставами и командованием воинской части. Юридическое сопровождение продолжается до полного восстановления ваших прав.",
        },
      ],
    },
    {
      id: "arbitration",
      title: "Арбитражное право",
      description:
        "Профессиональное представительство в арбитражных судах по экономическим спорам, защита интересов бизнеса",
      icon: <BarChart className="h-5 w-5" />,
      steps: [
        {
          title: "Анализ документов и перспектив",
          description: "Оценка правовой позиции и шансов на успех",
          duration: "1-5 дней",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат тщательно изучает все имеющиеся документы: договоры, переписку, акты, счета, платежные поручения и другие материалы. Проводится правовой анализ ситуации, оцениваются перспективы дела и разрабатывается оптимальная стратегия защиты интересов клиента.",
        },
        {
          title: "Досудебное урегулирование",
          description: "Претензионная работа и переговоры",
          duration: "2-4 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат составляет юридически грамотную претензию, проводит переговоры с оппонентом, участвует в медиации. Часто экономические споры удается разрешить без обращения в суд, что экономит время и деньги клиента, а также сохраняет деловые отношения с контрагентом.",
        },
        {
          title: "Подготовка искового заявления",
          description: "Составление иска и формирование доказательной базы",
          duration: "1-2 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат готовит исковое заявление с учетом всех требований АПК РФ, формирует пакет доказательств, рассчитывает госпошлину, готовит ходатайства. Качественная подготовка искового заявления и приложений к нему — важный фактор успеха в арбитражном процессе.",
        },
        {
          title: "Подача иска и принятие к производству",
          description: "Подача документов в арбитражный суд",
          duration: "5-10 дней",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат подает исковое заявление в арбитражный суд, контролирует его принятие к производству, при необходимости устраняет недостатки, указанные судом. На этом этапе важно соблюсти все процессуальные требования, чтобы избежать возврата или оставления иска без движения.",
        },
        {
          title: "Подготовка к судебному разбирательству",
          description: "Предварительное судебное заседание",
          duration: "1-2 месяца",
          icon: <Gavel className="h-5 w-5" />,
          details:
            "Адвокат участвует в предварительном судебном заседании, заявляет ходатайства, представляет дополнительные доказательства, знакомится с отзывом ответчика и готовит возражения на него. На этом этапе определяется круг обстоятельств, имеющих значение для дела, и доказательств, которые необходимо представить.",
        },
        {
          title: "Судебное разбирательство",
          description: "Рассмотрение дела по существу",
          duration: "1-3 месяца",
          icon: <Gavel className="h-5 w-5" />,
          details:
            "Адвокат представляет интересы клиента в судебных заседаниях, участвует в исследовании доказательств, допросе свидетелей, выступает в судебных прениях. Профессиональное представительство в арбитражном суде требует глубокого знания материального и процессуального права, а также навыков судебной риторики.",
        },
        {
          title: "Обжалование судебных актов",
          description: "Апелляция, кассация, надзор",
          duration: "2-6 месяцев",
          icon: <Gavel className="h-5 w-5" />,
          details:
            "При необходимости адвокат обжалует решение суда в апелляционном, кассационном и надзорном порядке. Каждая инстанция имеет свои особенности, и адвокат готовит жалобы с учетом этих особенностей, акцентируя внимание на нарушениях, которые могут привести к отмене или изменению судебного акта.",
        },
        {
          title: "Исполнительное производство",
          description: "Принудительное исполнение судебного решения",
          duration: "До полного исполнения",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат получает исполнительный лист, предъявляет его к исполнению, контролирует ход исполнительного производства, взаимодействует с судебными приставами. Юридическое сопровождение продолжается до фактического исполнения решения суда и восстановления нарушенных прав клиента.",
        },
      ],
    },
    {
      id: "inheritance",
      title: "Наследственные дела",
      description:
        "Комплексное юридическое сопровождение наследственных дел от консультации до регистрации прав на наследственное имущество",
      icon: <Scroll className="h-5 w-5" />,
      steps: [
        {
          title: "Первичная консультация",
          description: "Анализ ситуации и определение стратегии",
          duration: "1-2 часа",
          icon: <FileText className="h-5 w-5" />,
          details:
            "На первичной консультации адвокат выясняет все обстоятельства дела, изучает имеющиеся документы и определяет перспективы наследственного дела. Вы получаете четкое понимание своих наследственных прав и возможных путей их реализации или защиты.",
        },
        {
          title: "Сбор документов",
          description: "Формирование доказательной базы",
          duration: "1-4 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат помогает собрать необходимые документы: свидетельство о смерти наследодателя, документы о родстве, документы на наследственное имущество, завещание (если есть). Правильно собранный пакет документов — основа успешного оформления наследства.",
        },
        {
          title: "Открытие наследственного дела",
          description: "Обращение к нотариусу по месту открытия наследства",
          duration: "1-2 дня",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат помогает подать заявление о принятии наследства нотариусу по последнему месту жительства наследодателя. Нотариус открывает наследственное дело и выдает соответствующую справку. Важно соблюсти 6-месячный срок для принятия наследства.",
        },
        {
          title: "Выявление наследственной массы",
          description: "Определение состава наследственного имущества",
          duration: "2-8 недель",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат помогает установить полный состав наследственного имущества: недвижимость, транспортные средст��а, банковские вклады, ценные бумаги, доли в бизнесе и другие активы. При необходимости направляю��ся запросы в регистрирующие органы и банки.",
        },
        {
          title: "Определение круга наследников",
          description: "Выявление всех лиц, имеющих право на наследство",
          duration: "1-4 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат помогает установить всех наследников по закону и по завещанию, включая обязательных наследников. Это важно для правильного распределения наследственного имущества и предотвращения будущих споров.",
        },
        {
          title: "Оценка наследственного имущества",
          description: "Определение стоимости наследства для расчета госпошлины",
          duration: "1-2 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат организует проведение оценки насл��дственного имущества независимым оценщиком. Это необходимо для расчета государственной пошлины за выдачу свидетельства о праве на наследство и для справедливого раздела имущества между наследниками.",
        },
        {
          title: "Получение свидетельства о праве на наследство",
          description: "Оформление наследственных прав у нотариуса",
          duration: "1-2 дня (после истечения 6 месяцев с момента открытия наследства)",
          icon: <Scroll className="h-5 w-5" />,
          details:
            "По истечении 6 месяцев с момента открытия наследства адвокат помогает получить свидетельство о праве на наследство у нотариуса. Этот документ подтверждает права наследника на конкретное имущество и является основанием для регистрации права собственности.",
        },
        {
          title: "Регистрация прав на наследственное имущество",
          description: "Оформление прав собственности в регистрирующих органах",
          duration: "1-4 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат помогает зарегистрировать права собственности на унаследованное имущество в соответствующих органах: Росреестре (для недвижимости), ГИБДД (для транспортных средств) и др. После регистрации клиент получает полное право распоряжаться унаследованным имуществом.",
        },
      ],
    },
    {
      id: "unjust_enrichment",
      title: "Неосновательное обогащение",
      description:
        "Профессиональная помощь в делах о взыскании неосновательного обогащения и защите от необоснованных требований",
      icon: <Coins className="h-5 w-5" />,
      steps: [
        {
          title: "Анализ ситуации",
          description: "Оценка перспектив дела и разработка стратегии",
          duration: "1-3 дня",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат анализирует все обстоятельства дела, изучает имеющиеся документы и доказательства, определяет наличие признаков неосновательного обогащения. На этом этапе оценивается перспективность дела и разрабатывается оптимальная стратегия.",
        },
        {
          title: "Сбор доказательств",
          description: "Формирование доказательной базы",
          duration: "2-4 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат помогает собрать необходимые доказательства: платежные документы, переписку, договоры, свидетельские показания и другие материалы, подтверждающие факт неосновательного обогащения. Качественная доказательная база — ключ к успеху в таких делах.",
        },
        {
          title: "Досудебное урегулирование",
          description: "Направление претензии и переговоры",
          duration: "2-4 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат составляет и направляет претензию с требованием вернуть неосновательное обогащение, проводит переговоры с противоположной стороной. Часто дела удается решить на этом этапе, что экономит время и средства клиента.",
        },
        {
          title: "Подготовка и подача иска",
          description: "Составление искового заявления и сбор приложений",
          duration: "1-2 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Если досудебное урегулирование не дало результатов, адвокат составляет исковое заявление о взыскании неосновательного обогащения, рассчитывает сумму процентов за пользование чужими денежными средствами, готовит необходимые приложения и подает иск в суд.",
        },
        {
          title: "Судебное разбирательство",
          description: "Представление интересов в суде",
          duration: "2-6 месяцев",
          icon: <Gavel className="h-5 w-5" />,
          details:
            "Адвокат представляет интересы клиента в суде: участвует в судебных заседаниях, представляет доказательства, заявляет ходатайства, участвует в исследовании доказательств, выступает в судебных прениях. Профессиональное представительство значительно повышает шансы на успех.",
        },
        {
          title: "Исполнительное производство",
          description: "Принудительное исполнение судебного решения",
          duration: "До полного исполнения",
          icon: <FileText className="h-5 w-5" />,
          details:
            "После вступления решения суда в законную силу адвокат получает исполнительный лист, предъявляет его к исполнению, контролирует ход исполнительного производства, взаимодействует с судебными приставами. Юридическое сопровождение продолжается до фактического возврата неосновательного обогащения.",
        },
      ],
    },
    {
      id: "medical",
      title: "Медицинское право",
      description:
        "Специализированная юридическая помощь в сфере медицинского права, защита прав пациентов и компенсация вреда здоровью",
      icon: <Stethoscope className="h-5 w-5" />,
      steps: [
        {
          title: "Первичная консультация",
          description: "Анализ медицинской документации и оценка перспектив",
          duration: "1-2 часа",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат анализирует медицинскую документацию, выслушивает обстоятельства дела, оценивает перспективы взыскания компенсации за вред, причиненный здоровью. На этом этапе определяется наличие признаков некачественного оказания медицинской помощи.",
        },
        {
          title: "Сбор медицинской документации",
          description: "Получение полной медицинской карты и других документов",
          duration: "2-4 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат помогает получить полную медицинскую документацию: амбулаторные карты, выписки из стационара, результаты анализов и исследований, заключения специалистов. При необходимости направляются адвокатские запросы в медицинские учреждения.",
        },
        {
          title: "Независимая медицинская экспертиза",
          description: "Проведение экспертизы качества медицинской помощи",
          duration: "2-6 недель",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат организует проведение независимой медицинской экспертизы для установления причинно-следственной связи между действиями медицинских работников и наступившими негативными последствиями для здоровья. Заключение эксперта — ключевое доказательство в медицинских спорах.",
        },
        {
          title: "Досудебное урегулирование",
          description: "Направление претензии в медицинское учреждение",
          duration: "1-2 месяца",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат составляет и направляет претензию в медицинское учреждение с требованием о компенсации вреда здоровью, проводит переговоры с представителями клиники или страховой компании. В некоторых случаях удается достичь мирового соглашения на этом этапе.",
        },
        {
          title: "Подготовка и подача иска",
          description: "Составление искового заявления и сбор доказательств",
          duration: "2-4 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Если досудебное урегулирование не дало результатов, адвокат составляет исковое заявление о возмещении вреда здоровью и компенсации морального вреда, готовит необходимые приложения и подает иск в суд. Правильно составленный иск — важный шаг к успешному разрешению дела.",
        },
        {
          title: "Судебная медицинская экспертиза",
          description: "Назначение и проведение судебной экспертизы",
          duration: "1-3 месяца",
          icon: <Gavel className="h-5 w-5" />,
          details:
            "По ходатайству адвоката суд назначает судебную медицинскую экспертизу. Адвокат формулирует вопросы для экспертов, участвует в выборе экспертного учреждения, при необходимости заявляет отвод экспертам. Результаты экспертизы часто имеют решающее значение для исхода дела.",
        },
        {
          title: "Судебное разбирательство",
          description: "Представление интересов в суде",
          duration: "3-12 месяцев",
          icon: <Gavel className="h-5 w-5" />,
          details:
            "Адвокат представляет интересы клиента в суде: участвует в судебных заседаниях, допрашивает свидетелей и экспертов, представляет доказательства, заявляет ходатайства, выступает в судебных прениях. Профессиональное представительство значительно повышает шансы на получение справедливой компенсации.",
        },
        {
          title: "Исполнение решения суда",
          description: "Получение компенсации",
          duration: "1-3 месяца",
          icon: <FileText className="h-5 w-5" />,
          details:
            "После вступления решения суда в законную силу адвокат получает исполнительный лист и контролирует процесс выплаты компенсации. При необходимости инициируется исполнительное производство. Юридическое сопровождение продолжается до фактического получения клиентом всей присужденной суммы.",
        },
      ],
    },
    {
      id: "land",
      title: "Земельное право",
      description:
        "Комплексное сопровождение земельных вопросов любой сложности, от оформления пр��в до разрешения споров",
      icon: <Building className="h-5 w-5" />,
      steps: [
        {
          title: "Первичная консультация",
          description: "Анализ ситуации и определение стратегии",
          duration: "1-2 часа",
          icon: <FileText className="h-5 w-5" />,
          details:
            "На первичной консультации адвокат выясняет все обстоятельства дела, изучает имеющиеся документы и определяет перспективы разрешения земельного вопроса. Вы получаете четкое понимание своих прав и возможных путей решения проблемы.",
        },
        {
          title: "Анализ документов",
          description: "Проверка правоустанавливающих документов",
          duration: "1-3 дня",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат тщательно изучает все документы на земельный участок: свидетельство о праве собственности, кадастровый паспорт, выписки из ЕГРН, договоры, решения органов власти и другие документы. Это позволяет выявить потенциальные проблемы и определить дальнейшие действия.",
        },
        {
          title: "Сбор дополнительных документов",
          description: "Получение необходимых сведений из государственных органов",
          duration: "2-4 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат запрашивает необходимые документы из Росреестра, кадастровой палаты, архивов, администрации и других органов. Это могут быть выписки из ЕГРН, кадастровые планы, градостроительная документация, решения органов власти и другие документы, необходимые для защиты ваших прав.",
        },
        {
          title: "Проведение экспертиз",
          description: "Организация необходимых исследований",
          duration: "2-6 недель",
          icon: <FileText className="h-5 w-5" />,
          details:
            "При необходимости адвокат организует проведение землеустроительной экспертизы, межевания, геодезических работ, оценки земельного участка и других исследований. Результаты экспертиз являются важными доказательствами в земельных спорах.",
        },
        {
          title: "Досудебное урегулирование",
          description: "Переговоры и претензионная работа",
          duration: "2-8 недель",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат составляет и направляет претензии, жалобы, обращения в уполномоченные органы, проводит переговоры с противоположной стороной. Во многих случаях земельные споры удается разрешить без обращения в суд, что экономит время и средства.",
        },
        {
          title: "Подготовка и подача иска",
          description: "Составление искового заявления и сбор доказательств",
          duration: "1-2 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Если досудебное урегулирование не дало результатов, адвокат составляет исковое заявление, формирует пакет доказательств и подает документы в суд. Грамотно составленный иск и правильно подобранные доказательства значительно повышают шансы на успех в земельном споре.",
        },
        {
          title: "Судебное разбирательство",
          description: "Представление интересов в суде",
          duration: "3-12 месяцев",
          icon: <Gavel className="h-5 w-5" />,
          details:
            "Адвокат представляет ваши интересы в суде, участвует во всех судебных заседаниях, заявляет ходатайства, представляет доказательства, допрашивает свидетелей и экспертов, выступает в прениях. Профессиональное представительство в суде — ключевой фактор успеха в земельных спорах.",
        },
        {
          title: "Исполнение решения суда",
          description: "Контроль за исполнением судебного решения",
          duration: "До полного исполнения",
          icon: <FileText className="h-5 w-5" />,
          details:
            "После вступления решения суда в законную силу адвокат контролирует его исполнение, при необходимости взаимодействует с судебными приставами, Росреестром и другими органами. Юридическое сопровождение продолжается до полного восстановления ваших прав на земельный участок.",
        },
      ],
    },
    {
      id: "consumer",
      title: "Защита прав потребителей",
      description:
        "Эффективное восстановление нарушенных прав потребителей, возврат денег за некачественные товары и услуги",
      icon: <FileText className="h-5 w-5" />,
      steps: [
        {
          title: "Первичная консультация",
          description: "Анализ ситуации и определение стратегии",
          duration: "1-2 часа",
          icon: <FileText className="h-5 w-5" />,
          details:
            "На первичной консультации адвокат выясняет все обстоятельства дела, изучает имеющиеся документы (чеки, договоры, гарантийные талоны) и определяет перспективы защиты ваших прав как потребителя. Вы получаете четкое понимание своих прав и возможных путей решения проблемы.",
        },
        {
          title: "Сбор доказательств",
          description: "Формирование доказательной базы",
          duration: "1-2 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат помогает собрать необходимые доказательства: документы о приобретении товара или услуги, переписку с продавцом, фото- и видеоматериалы, подтверждающие недостатки, заключения экспертов. Качественная доказательная база — основа успешной защиты прав потребителя.",
        },
        {
          title: "Проведение экспертизы",
          description: "Организация независимой экспертизы товара или услуги",
          duration: "1-3 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "При необходимости адвокат организует проведение независимой экспертизы товара или услуги для установления причин недостатков и определения, являются ли они производственными или возникли по вине потребителя. Заключение эксперта — важное доказательство в спорах о защите прав потребителей.",
        },
        {
          title: "Составление претен��ии",
          description: "Подготовка и направление претензии продавцу или исполнителю",
          duration: "1-3 дня",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат составляет юридически грамотную претензию с требованиями о замене товара, возврате денег, устранении недостатков, выплате неустойки и компенсации морального вреда. Правильно составленная претензия часто позволяет решить проблему без обращения в суд.",
        },
        {
          title: "Переговоры с продавцом",
          description: "Досудебное урегулирование спора",
          duration: "1-4 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат проводит переговоры с продавцом или исполнителем услуги, представляет ваши интересы при рассмотрении претензии. Профессиональный подход и знание законодательства о защите прав потребителей часто позволяют достичь соглашения на выгодных для вас условиях.",
        },
        {
          title: "Обращение в контролирующие органы",
          description: "Подача жалоб в Роспотребнадзор и другие органы",
          duration: "1-2 месяца",
          icon: <FileText className="h-5 w-5" />,
          details:
            "При необходимости адвокат составляет и направляет жалобы в Роспотребнадзор, органы стандартизации и метрологии, прокуратуру и другие контролирующие органы. Это создает дополнительное давление на недобросовестного продавца и помогает собрать дополнительные доказательства для суда.",
        },
        {
          title: "Подготовка и подача иска",
          description: "Составление искового заявления и сбор приложений",
          duration: "1-2 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Если досудебное урегулирование не дало результатов, адвокат составляет исковое заявление о защите прав потребителя, рассчитывает сумму неустойки и компенсации морального вреда, готовит необходимые приложения и подает иск в суд. Потребители освобождены от уплаты госпошлины при подаче таких исков.",
        },
        {
          title: "Судебное разбирательство",
          description: "Представление интересов в суде",
          duration: "2-6 месяцев",
          icon: <Gavel className="h-5 w-5" />,
          details:
            "Адвокат представляет ваши интересы в суде: участвует в судебных заседаниях, представляет доказательства, заявляет ходатайства, допрашивает свидетелей и экспертов, выступает в прениях. Закон о защите прав потребителей предусматривает дополнительные меры ответственности для продавцов, включая штраф в размере 50% от присужденной суммы.",
        },
        {
          title: "Исполнение решения суда",
          description: "Получение присужденных сумм",
          duration: "1-3 месяца",
          icon: <FileText className="h-5 w-5" />,
          details:
            "После вступления решения суда в законную силу адвокат получает исполнительный лист и контролирует процесс выплаты присужденных сумм. При необходимости инициируется исполнительное производство. Юридическое сопровождение продолжается до фактического получения вами всех присужденных сумм.",
        },
      ],
    },
    {
      id: "realestate",
      title: "Сделки с недвижимостью",
      description: "Надежное юридическое сопровождение при покупке, продаже и аренде недвижимости, минимизация рисков",
      icon: <Home className="h-5 w-5" />,
      steps: [
        {
          title: "Первичная консультация",
          description: "Определение целей и задач клиента",
          duration: "1-2 часа",
          icon: <FileText className="h-5 w-5" />,
          details:
            "На первичной консультации адвокат выясняет ваши цели и пожелания относительно сделки с недвижимостью, обсуждает бюджет, требования к объекту, сроки и другие важные параметры. Вы получаете информацию о процедуре сделки, возможных рисках и способах их минимизации.",
        },
        {
          title: "Проверка объекта недвижимости",
          description: "Юридическая проверка чистоты объекта",
          duration: "1-2 недели",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат проводит комплексную юридическую проверку объекта недвижимости: запрашивает выписки из ЕГРН, проверяет историю перехода прав собственности, наличие обременений и арестов, долгов по коммунальным платежам, законность перепланировок. Это позволяет выявить потенциальные риски и избежать проблем в будущем.",
        },
        {
          title: "Проверка продавца",
          description: "Проверка правоспособности и полномочий",
          duration: "3-7 дней",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат проверяет правоспособность продавца, наличие необходимых согласий (супруга, органов опеки), отсутствие банкротства, исполнительных производств и других обстоятельств, которые могут повлиять на сделку. Это помогает избежать оспаривания сделки в будущем.",
        },
        {
          title: "Составление и согласование договора",
          description: "Подготовка проекта договора и согласование условий",
          duration: "3-7 дней",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат составляет проект договора купли-продажи, аренды или другого договора с учетом всех особенностей сделки и ваших интересов. Договор согласовывается с другой стороной, при необходимости вносятся изменения и дополнения. Грамотно составленный договор защищает ваши интересы и минимизирует риски.",
        },
        {
          title: "Организация расчетов",
          description: "Обеспечение безопасности денежных расчетов",
          duration: "1-3 дня",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат организует безопасные расчеты между сторонами: через банковскую ячейку, аккредитив, нотариальный депозит или другие способы, обеспечивающие защиту интересов обеих сторон. Это исключает риск потери денег при срыве сделки или выявлении проблем с объектом недвижимости.",
        },
        {
          title: "Сопровождение сделки",
          description: "Участие в подписании договора и передаче объекта",
          duration: "1-2 дня",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат присутствует при подписании договора, контролирует правильность заполнения всех документов, участвует в передаче объекта недвижимости и денежных средств. Это обеспечивает соблюдение всех договоренностей и защищает ваши интересы на заключительном этапе сделки.",
        },
        {
          title: "Государственная регистрация",
          description: "Сопровождение процедуры регистрации прав",
          duration: "5-10 дней",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат готовит документы для государственной регистрации перехода права собственности, подает их в Росреестр, контролирует процесс регистрации и получает выписку из ЕГРН, подтверждающую ваше право собственности. Это обеспечивает законность и прозрачность сделки.",
        },
        {
          title: "Послесделочное сопровождение",
          description: "Решение вопросов после завершения сделки",
          duration: "По необходимости",
          icon: <FileText className="h-5 w-5" />,
          details:
            "Адвокат помогает решить вопросы, возникающие после завершения сделки: перерегистрация коммунальных услуг, уведомление налоговых органов, решение спорных ситуаций с продавцом или покупателем. Юридическое сопровождение продолжается до полного решения всех вопросов, связанных со сделкой.",
        },
      ],
    },
  ]

  const activeCaseData = caseTypes.find((caseType) => caseType.id === activeCase) || caseTypes[0]

  return (
    <AnimatedSection id="case-timeline" className="relative bg-[#f8f5f2] py-16 md:py-24">
      <div className="absolute inset-0 overflow-hidden">
        <div className="absolute left-0 top-0 h-64 w-64 rounded-full bg-white blur-3xl" />
        <div className="absolute bottom-0 right-0 h-64 w-64 rounded-full bg-white blur-3xl" />
      </div>

      <div className="container relative px-4 md:px-6">
        <div className="flex flex-col items-center justify-center gap-4 text-center">
          <AnimatedItem>
            <div className="inline-block rounded-full bg-[#741717]/10 px-3 py-1 text-sm font-medium text-[#741717]">
              Как я работаю
            </div>
          </AnimatedItem>
          <AnimatedItem>
            <h2 className="font-playfair text-3xl font-bold tracking-tighter text-[#741717] sm:text-4xl md:text-5xl">
              Процесс ведения дел
            </h2>
          </AnimatedItem>
          <AnimatedItem delay={0.1}>
            <p className="max-w-[700px] text-[#603a30] md:text-xl/relaxed">
              Ознакомьтесь с основными этапами работы по различным категориям дел
            </p>
          </AnimatedItem>
        </div>

        <div className="mt-8 flex flex-wrap justify-center gap-2">
          <LayoutGroup id="case-buttons">
            {caseTypes.map((caseType) => (
              <AnimatedItem key={caseType.id} delay={0.2}>
                <motion.button
                  className={cn(
                    "flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-all duration-300",
                    activeCase === caseType.id
                      ? "bg-[#741717] text-white"
                      : "bg-white text-[#603a30] hover:bg-[#741717]/10 hover:text-[#741717]",
                  )}
                  onClick={() => {
                    setExpandedStep(null) // Сбрасываем развернутый шаг при смене категории
                    setActiveCase(caseType.id)
                  }}
                  whileHover={{ scale: 1.05 }}
                  whileTap={{ scale: 0.95 }}
                  layout
                  layoutId={`case-button-${caseType.id}`}
                >
                  <motion.span
                    className="relative"
                    animate={{
                      rotate: activeCase === caseType.id ? [0, -10, 10, -5, 5, 0] : 0,
                    }}
                    transition={{
                      duration: 0.5,
                      ease: "easeInOut",
                      times: [0, 0.2, 0.4, 0.6, 0.8, 1],
                      delay: activeCase === caseType.id ? 0.2 : 0,
                    }}
                  >
                    {caseType.icon}
                  </motion.span>
                  <span>{caseType.title}</span>
                  {activeCase === caseType.id && (
                    <motion.div
                      className="absolute inset-0 rounded-full bg-[#741717]"
                      layoutId="active-case-background"
                      initial={false}
                      transition={{ type: "spring", stiffness: 300, damping: 30 }}
                      style={{ zIndex: -1 }}
                    />
                  )}
                </motion.button>
              </AnimatedItem>
            ))}
          </LayoutGroup>
        </div>

        <div className="mt-8">
          <AnimatedItem delay={0.3}>
            <AnimatePresence mode="wait">
              <motion.div
                key={activeCase}
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                exit={{ opacity: 0, y: -20 }}
                transition={{ duration: 0.5 }}
                className="rounded-lg bg-white p-6 shadow-md"
              >
                <motion.div
                  className="mb-6 flex flex-col gap-2 md:flex-row md:items-center md:justify-between"
                  initial={{ opacity: 0 }}
                  animate={{ opacity: 1 }}
                  transition={{ duration: 0.3, delay: 0.2 }}
                >
                  <div>
                    <motion.h3
                      className="font-playfair text-xl font-bold text-[#741717]"
                      initial={{ x: -20 }}
                      animate={{ x: 0 }}
                      transition={{ duration: 0.4, delay: 0.3 }}
                    >
                      {activeCaseData.title}
                    </motion.h3>
                    <motion.p
                      className="text-[#603a30]"
                      initial={{ x: -20 }}
                      animate={{ x: 0 }}
                      transition={{ duration: 0.4, delay: 0.4 }}
                    >
                      {activeCaseData.description}
                    </motion.p>
                  </div>
                </motion.div>

                <div className="relative">
                  {/* Vertical line with animation */}
                  <motion.div
                    className="absolute left-3 top-0 w-0.5 bg-[#741717]/20 md:left-4"
                    initial={{ height: 0 }}
                    animate={{ height: "100%" }}
                    transition={{ duration: 0.8, ease: "easeInOut" }}
                  />

                  <div className="space-y-8">
                    {activeCaseData.steps.map((step, index) => (
                      <motion.div
                        key={index}
                        className={cn(
                          "relative flex gap-4",
                          expandedStep === index ? "pb-6" : "pb-0",
                          index === activeCaseData.steps.length - 1 ? "pb-0" : "",
                        )}
                        initial={{ opacity: 0, x: -20 }}
                        animate={{ opacity: 1, x: 0 }}
                        transition={{ duration: 0.3, delay: 0.1 * index }}
                      >
                        {/* Step indicator */}
                        <motion.div
                          className="relative z-10 mt-0.5 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-[#741717] text-white md:h-8 md:w-8"
                          animate={{
                            scale: expandedStep === index ? 1.1 : 1,
                            backgroundColor: expandedStep === index ? "#603a30" : "#741717",
                          }}
                          transition={{ duration: 0.3 }}
                        >
                          {step.icon}
                        </motion.div>

                        <div className="flex-1">
                          <motion.div
                            className={cn(
                              "cursor-pointer rounded-lg border border-transparent bg-[#f8f5f2] p-4 transition-all duration-300 hover:border-[#741717]/20",
                              expandedStep === index ? "border-[#741717]/20 shadow-md" : "",
                            )}
                            onClick={() => setExpandedStep(expandedStep === index ? null : index)}
                            whileHover={{ scale: 1.01, backgroundColor: "rgba(248, 245, 242, 0.8)" }}
                            animate={{
                              y: expandedStep === index ? 0 : 0,
                              backgroundColor:
                                expandedStep === index ? "rgba(255, 255, 255, 0.7)" : "rgba(248, 245, 242, 1)",
                            }}
                            transition={{ duration: 0.3 }}
                          >
                            <div className="flex flex-col justify-between gap-2 md:flex-row md:items-center">
                              <h4 className="font-playfair text-lg font-medium text-[#741717]">{step.title}</h4>
                              <motion.div
                                animate={{ rotate: expandedStep === index ? 180 : 0 }}
                                transition={{ duration: 0.3 }}
                                className="hidden md:block"
                              >
                                <ChevronDown className="h-5 w-5 text-[#741717]/70" />
                              </motion.div>
                            </div>
                            <p className="mt-1 text-[#603a30]">{step.description}</p>

                            {/* Expanded details */}
                            <AnimatePresence>
                              {expandedStep === index && (
                                <motion.div
                                  className="mt-4 overflow-hidden rounded-lg bg-white p-4 text-[#603a30]"
                                  initial={{ opacity: 0, height: 0, y: -10 }}
                                  animate={{ opacity: 1, height: "auto", y: 0 }}
                                  exit={{ opacity: 0, height: 0, y: -10 }}
                                  transition={{
                                    duration: 0.4,
                                    opacity: { duration: 0.3 },
                                    height: { duration: 0.4 },
                                    y: { duration: 0.3, ease: "easeOut" },
                                  }}
                                >
                                  <motion.p
                                    initial={{ opacity: 0 }}
                                    animate={{ opacity: 1 }}
                                    transition={{ duration: 0.3, delay: 0.2 }}
                                    className="first-letter:float-left first-letter:mr-1 first-letter:font-playfair first-letter:text-2xl first-letter:font-bold first-letter:text-[#741717]"
                                  >
                                    {step.details}
                                  </motion.p>
                                </motion.div>
                              )}
                            </AnimatePresence>
                          </motion.div>
                        </div>
                      </motion.div>
                    ))}
                  </div>
                </div>
              </motion.div>
            </AnimatePresence>
          </AnimatedItem>
        </div>
      </div>

      <SectionDivider color="#ffffff" variant="wave" />
    </AnimatedSection>
  )
}
